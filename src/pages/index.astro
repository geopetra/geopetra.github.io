---
import Layout from '~/layouts/PageLayout.astro';

import Hero from '~/components/widgets/Hero.astro';
import Note from '~/components/widgets/Note.astro';
import Features from '~/components/widgets/Features.astro';
import Features2 from '~/components/widgets/Features2.astro';
import Content from '~/components/widgets/Content.astro';
import ToolSearch from '~/components/tools/ToolSearch.astro';
import FAQs from '~/components/widgets/FAQs.astro';
import Stats from '~/components/widgets/Stats.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import { getAllTopics, getAllOperatingSystems, getAllToolTypes, getAllLanguages } from '~/utils/database';

// Fetch filter options
const topics = await getAllTopics();
const operatingSystems = await getAllOperatingSystems();
const toolTypes = await getAllToolTypes();
const languages = await getAllLanguages();

const metadata = {
  title: 'PETRA: Petrology Tools, Resources, and Applications',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->

  <Hero
    image={{ src: '~/assets/images/hero-image.png', alt: 'PETRA Image' }}
  >
    <Fragment slot="title">
      <span class="text-accent dark:text-white highlight"> PETRA</span>
    </Fragment>

    <Fragment slot="subtitle">
      <span class="hidden sm:inline">
        <span class="font-semibold">PETRA</span> is a community-driven hub designed to centralise petrological resources, ensuring easy accessibility for all researchers to the latest tools and methods.
      </span>
      
      <div class="mt-8 max-w-3xl mx-auto">
        <ToolSearch 
          topics={topics} 
          operatingSystems={operatingSystems} 
          toolTypes={toolTypes} 
          languages={languages}
        />
        <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">
          Find tools by name, function, or related topics, or browse all tools.
        </p>
      </div>
    </Fragment>
  </Hero>

  <!-- Note Widget ******************* -->

  <!-- <Note /> -->

  <!-- Features Widget *************** -->

  <!-- <Features
    id="features"
    tagline="Features"
    title="What PETRA offers"
    subtitle="A comprehensive platform for petrological tools and resources, designed to support researchers, students, and professionals in the field."
    items={[
      {
        title: 'Centralized Tool Repository',
        description:
          'Access a curated collection of petrological tools, software, and resources all in one place.',
        icon: 'tabler:tools',
      },
      {
        title: 'Community Contributions',
        description:
          'Benefit from community-contributed tools and resources, ensuring the platform stays current and comprehensive.',
        icon: 'tabler:users',
      },
      {
        title: 'Detailed Documentation',
        description:
          'Find comprehensive information about each tool, including usage guides, compatibility, and user reviews.',
        icon: 'tabler:file-description',
      },
      {
        title: 'Advanced Search',
        description:
          'Quickly find the tools you need with our powerful search functionality, filtering by categories, platforms, and more.',
        icon: 'tabler:search',
      },
      {
        title: 'Regular Updates',
        description:
          'Stay informed about the latest tools and updates in the field of petrology through our regularly maintained database.',
        icon: 'tabler:refresh',
      },
      {
        title: 'Open Collaboration',
        description:
          'Join a community of researchers and professionals committed to advancing petrological research through shared resources.',
        icon: 'tabler:bulb',
      },
    ]}
  /> -->

  <!-- Content Widget **************** -->

  <!-- <Content
    isReversed
    tagline="Our Mission"
    title="Advancing Petrology Through Shared Resources"
    items={[
      {
        title: 'Comprehensive Tool Database',
        description:
          'Access a growing collection of specialized tools for petrological analysis, modeling, and visualization.',
      },
      {
        title: 'Community-Driven Platform',
        description:
          'Benefit from the collective knowledge and contributions of the global petrology community.',
      },
      {
        title: 'Educational Resources',
        description:
          'Find tutorials, guides, and documentation to help you make the most of petrological tools and methodologies.',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1564419320461-6870880221ad?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80',
      alt: 'Petrological research',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">Supporting the petrology community</h3>
      Empowering researchers with the tools they need to advance geological understanding
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content> -->

  <!-- Content Widget **************** -->

  <!-- <Content
    isAfterContent
    items={[
      {
        title: 'Tool Discovery',
        description: 'Find the perfect tools for your specific petrological research needs through our categorized database.',
      },
      {
        title: 'Compatibility Information',
        description:
          'Get detailed information about operating system compatibility, required dependencies, and hardware requirements.',
      },
      {
        title: 'User Reviews',
        description:
          'Benefit from the experiences of other researchers who have used the tools in their own work.',
      },
      {
        title: 'Direct Access',
        description:
          'Access direct links to tool repositories, documentation, and support resources to get started quickly.',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1566792368824-51282e6e9c2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80',
      alt: 'Rock samples',
    }}
  >
    <Fragment slot="content">Find the right tools for your petrological research.</Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content> -->

  <!-- Content Widget **************** -->

  <!-- <Content
    isReversed
    isAfterContent
    items={[
      {
        title: 'Contribute Your Tools',
        description:
          'Share your own petrological tools and resources with the community to help advance the field.',
      },
      {
        title: 'Join the Community',
        description:
          'Connect with other researchers, developers, and professionals in the field of petrology.',
      },
      {
        title: 'Stay Updated',
        description:
          'Keep up with the latest developments in petrological tools, methods, and research.',
      },
      {
        title: 'Collaborative Development',
        description: 'Participate in the collaborative development and improvement of petrological tools and resources.',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1507668339897-8a035aa9527d?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80',
      alt: 'Geological research',
    }}
  >
    <Fragment slot="content">Join our growing community of petrologists.</Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content> -->

  <!-- Features2 Widget ************** -->

  <!-- <Features2
    title="Tool Categories"
    subtitle="Explore our comprehensive collection of petrological tools organized by category"
    tagline="Categories"
    items={[
      {
        title: 'Geochemical Analysis',
        description: "Tools for analyzing and interpreting geochemical data from rocks, minerals, and fluids.",
        icon: 'flat-color-icons:chemistry',
      },
      {
        title: 'Phase Equilibria',
        description:
          "Software for modeling phase equilibria, mineral stability, and metamorphic reactions.",
        icon: 'flat-color-icons:line-chart',
      },
      {
        title: 'Mineral Identification',
        description:
          'Tools to help identify minerals based on optical properties, chemical composition, and structural data.',
        icon: 'flat-color-icons:binoculars',
      },
      {
        title: 'Geochronology',
        description:
          "Applications for dating rocks and minerals using various isotopic systems.",
        icon: 'flat-color-icons:clock',
      },
      {
        title: 'Visualization',
        description:
          'Software for creating visual representations of petrological data, including ternary diagrams and spider plots.',
        icon: 'flat-color-icons:picture',
      },
      {
        title: 'Thermodynamics',
        description: 'Tools for thermodynamic calculations and modeling of geological processes.',
        icon: 'flat-color-icons:temperature',
      },
      {
        title: 'Data Processing',
        description: 'Utilities for processing, normalizing, and managing petrological datasets.',
        icon: 'flat-color-icons:database',
      },
      {
        title: 'Educational Resources',
        description:
          'Learning materials, tutorials, and reference guides for petrological concepts and methods.',
        icon: 'flat-color-icons:graduation-cap',
      },
      {
        title: 'Field Tools',
        description: "Mobile applications and tools designed for field work and sample collection.",
        icon: 'flat-color-icons:map',
      },
    ]}
  >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Features2> -->

  <!-- Blog section removed -->

  <!-- FAQs Widget ******************* -->

  <!-- <FAQs
    title="Frequently Asked Questions"
    subtitle="Dive into the following questions to gain insights into the powerful features that AstroWind offers and how it can elevate your web development journey."
    tagline="FAQs"
    classes={{ container: 'max-w-6xl' }}
    items={[
      {
        title: 'Why AstroWind?',
        description:
          "Michael Knight a young loner on a crusade to champion the cause of the innocent. The helpless. The powerless in a world of criminals who operate above the law. Here he comes Here comes Speed Racer. He's a demon on wheels.",
      },
      {
        title: 'What do I need to start?',
        description:
          'Space, the final frontier. These are the voyages of the Starship Enterprise. Its five-year mission: to explore strange new worlds. Many say exploration is part of our destiny, but itâ€™s actually our duty to future generations.',
      },
      {
        title: 'How to install the Astro + Tailwind CSS template?',
        description:
          "Well, the way they make shows is, they make one show. That show's called a pilot. Then they show that show to the people who make shows, and on the strength of that one show they decide if they're going to make more shows.",
      },
      {
        title: "What's something that you don't understand?",
        description:
          "A flower in my garden, a mystery in my panties. Heart attack never stopped old Big Bear. I didn't even know we were calling him Big Bear.",
      },
      {
        title: 'What is something that you would like to try again?',
        description:
          "A business big enough that it could be listed on the NASDAQ goes belly up. Disappears! It ceases to exist without me. No, you clearly don't know who you're talking to, so let me clue you in.",
      },
      {
        title: 'If you could only ask one question to each person you meet, what would that question be?',
        description:
          "This is not about revenge. This is about justice. A lot of things can change in twelve years, Admiral. Well, that's certainly good to know. About four years. I got tired of hearing how young I looked.",
      },
    ]}
  /> -->

  <!-- Stats Widget ****************** -->

  <Stats
    stats={[
      { title: 'Tools', amount: '100+' },
      { title: 'Categories', amount: '15' },
      { title: 'Contributors', amount: '50+' },
      { title: 'Users', amount: '1000+' },
    ]}
  />

  <!-- About Section ***************** -->
  
  <Content
    id="about"
    tagline="About Us"
    title="About PETRA"
    isReversed
    image={{
      src: '~/assets/images/petrology-image.png',
      alt: 'Petrological research',
    }}
  >
    <Fragment slot="content">
      <p class="mb-4">
        PETRA (Petrology Tools, Resources, and Applications) is a community-driven hub designed to centralize petrological resources, ensuring easy accessibility for all researchers to the latest tools and methods.
      </p>
      <p class="mb-4">
        Our mission is to foster collaboration, innovation, and knowledge sharing within the petrology community by providing a comprehensive database of tools, resources, and applications relevant to petrological research.
      </p>
      <p>
        Whether you're a student, researcher, or industry professional, PETRA aims to be your go-to platform for discovering and utilizing the best tools available in the field of petrology.
      </p>
    </Fragment>
    
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <!-- CallToAction Widget *********** -->

  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: 'Contribute',
        href: '/contribute-plus',
        icon: 'tabler:plus',
      },
    ]}
  >
    <Fragment slot="title">
      Join Our Community
    </Fragment>

    <Fragment slot="subtitle">
      Help us grow the PETRA database by contributing your tools and resources. <br class="hidden md:inline" />
      Together, we can build a comprehensive resource for the petrology community.
    </Fragment>
  </CallToAction>
</Layout>
